@if (!vertical) {
  <p class="my-5 text-center uppercase">Let's connect</p>
}
<nav
  class="flex justify-center"
  [ngClass]="{ 'flex-col space-y-6': vertical, 'space-x-6': !vertical }"
>
  @for (link of socialLinks; track link.path) {
    <a
      [href]="link.path"
      target="_blank"
      rel="noopener"
      [attr.aria-label]="link.text"
      class="flex items-center justify-end transition-all duration-300 ease-in-out hover:text-black focus:text-black active:text-black dark:text-slate-400 dark:hover:text-white dark:focus:text-white dark:active:text-white"
    >
      <ng-icon [name]="link.icon" size="24"></ng-icon>
    </a>
  }

  @if (vertical) {
    <ng-template [ngTemplateOutlet]="themeButton"></ng-template>
  }
</nav>

@if (!vertical) {
  <div class="my-5 flex flex-col items-center">
    <p class="my-5 text-center uppercase">Change theme</p>
    <ng-template [ngTemplateOutlet]="themeButton"></ng-template>
  </div>
}

<ng-template #themeButton>
  <button
    class="flex items-center transition-all duration-300 ease-in-out hover:text-black focus:text-black active:text-black dark:text-slate-400 dark:hover:text-white dark:focus:text-white dark:active:text-white"
    [uiMenuTriggerFor]="themeMenu"
    [xPosition]="'after'"
    aria-label="Change theme"
  >
    <ng-icon
      [name]="theme === 'dark' ? 'matDarkModeRound' : 'matLightModeRound'"
      size="24"
    ></ng-icon>
  </button>
</ng-template>

<ui-menu #themeMenu>
  <div class="flex flex-col items-start space-y-3">
    <button
      class="flex items-center space-x-4 px-3 dark:hover:text-white dark:focus:text-white dark:active:text-white"
      (click)="changeTheme('light')"
    >
      <ng-icon name="matLightModeRound"></ng-icon>
      <span>Light</span>
    </button>
    <button
      class="flex items-center space-x-4 px-3 dark:hover:text-white dark:focus:text-white dark:active:text-white"
      (click)="changeTheme('dark')"
    >
      <ng-icon name="matDarkModeRound"></ng-icon>
      <span>Dark</span>
    </button>
    <button
      class="flex items-center space-x-4 px-3 dark:hover:text-white dark:focus:text-white dark:active:text-white"
      (click)="resetTheme()"
    >
      <ng-icon name="matDesktopMacRound"></ng-icon>
      <span>System</span>
    </button>
  </div>
</ui-menu>
